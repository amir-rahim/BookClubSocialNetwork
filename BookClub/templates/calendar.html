{% extends 'base_content.html' %}

{% block page_title %}
Calendar
{% endblock page_title %}

{% block content %}
<div>
<!--    <p id="date"></p>-->

<hr class="solid">

<p class="title is-3">Today's meetings</p>

<hr class="solid">

    <div class="columns is-multiline">

        {% for meeting in meetings %}

        {% if meeting.meeting_time.date == today%}
            <div class="column is-one-third">

                <!--Card Template-->
                <div class="card today_card">
                    <header class="card-header">
                        <p class="card-header-title title is-4">
                            {{meeting.title}}
                        </p>
                    </header>
                    <div class="card-content">

                        <div class="content">
                            <p class="subtitle is-4 charlimit">
                                {{meeting.description}}
                                <br>
                            </p>
                            <span class="subtitle is-5">
                                Organised by <i>{{meeting.organiser}}</i> for <i>{{meeting.club}}</i>
                            </span>
                            <br>
                            <i>{{meeting.meeting_time}}</i>
                        </div>

                    </div>
                    <footer class="card-footer">
                        <a href="{% url 'meeting_details' meeting.club.club_url_name meeting.id %}"
                           class="card-footer-item">View</a>
                    </footer>
                </div>

            </div>
            {% endif %}
        {% endfor %}
    </div>
<!--TEMPLATE BLAFASHJFAHJFASH-->

<hr class="solid">

<p class="title is-3">Upcoming Meetings</p>

<hr class="solid">

    <div class="columns is-multiline">

        {% for meeting in meetings %}

        {% if meeting.meeting_time.date > today%}
            <div class="column is-one-third">

                <!--Card Template-->
                <div class="card rest_card">
                    <header class="card-header">
                        <p class="card-header-title title is-5">
                            {{meeting.title}}
                        </p>
                    </header>
                    <div class="card-content">

                         <div class="content">
                            <p class="subtitle is-4 charlimit">
                                {{meeting.description}}
                                <br>
                            </p>
                            <span class="subtitle is-5">
                                Organised by <i>{{meeting.organiser}}</i> for <i>{{meeting.club}}</i>
                            </span>
                            <br>
                            <i>{{meeting.meeting_time}}</i>
                        </div>

                    </div>
                    <footer class="card-footer">
                        <a href="{% url 'meeting_details' meeting.club.club_url_name meeting.id %}"
                           class="card-footer-item">View</a>
                    </footer>
                </div>

            </div>
            {% endif %}
        {% endfor %}
    </div>




    <style>
        .today_card {
            background-color: floralwhite;
        }
        .rest_card {
            background-color: white;
        }
        .charlimit {
            width: 30ch;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }
    </style>

</div>
{% endblock %}


{% block page_subtitle %}
Welcome to the calendar!
{% endblock page_subtitle %}
